<svg xmlns="http://www.w3.org/2000/svg" width="900" height="550" viewBox="0 0 900 550" font-family="DejaVu Sans, Arial, sans-serif">
  <style>
    /* Цветовые переменные: светлая / тёмная тема */
    :root {
      --bg: #ffffff;
      --text: #000000;
      --stroke: #000000;
      --fill-comp: #f8f8f8;
      --wire-red: #e53935;
      --wire-blue: #1e88e5;
      --wire-black: #263238;
      --wire-green: #43a047;
    }
    .dark-theme svg, .dark svg {
      --bg: #121212;
      --text: #eeeeee;
      --stroke: #cccccc;
      --fill-comp: #333333;
      --wire-red: #ef5350;
      --wire-blue: #42a5f5;
      --wire-black: #b0bec5;
      --wire-green: #66bb6a;
    }

    .component {
      fill: var(--fill-comp);
      stroke: var(--stroke);
      stroke-width: 1.8;
      rx: 4;
      ry: 4;
    }
    .wire {
      stroke-width: 3.2;
      fill: none;
    }
    .red    { stroke: var(--wire-red); }
    .blue   { stroke: var(--wire-blue); }
    .black  { stroke: var(--wire-black); }
    .green  { stroke: var(--wire-green); }
    .label {
      font-size: 15px;
      fill: var(--text);
      font-weight: 500;
    }
    .label-small {
      font-size: 13px;
      fill: var(--text);
    }
    .center { text-anchor: middle; }
    .start  { text-anchor: start; }
    .marker { marker-mid: url(#arrow); }
  </style>

  <!-- Стрелка тока -->
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5"
            markerWidth="5" markerHeight="5" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="var(--text)" />
    </marker>
  </defs>

  <!-- Фон -->
  <rect width="100%" height="100%" fill="var(--bg)" />

  <!-- Блок предохранителей (F) -->
  <g transform="translate(100,100)">
    <rect width="80" height="60" class="component" />
    <text x="40" y="-10" class="label center">F</text>
    <text x="40" y="80" class="label-small center">БП</text>
  </g>

  <!-- Переключатель скорости вентилятора (SA3) -->
  <g transform="translate(250,130)">
    <circle r="30" class="component" />
    <path d="M 0 0 L 20 -20 M 0 0 L 20 0 M 0 0 L 20 20" stroke="var(--stroke)" stroke-width="2"/>
    <text x="0" y="-40" class="label center">SA3</text>
    <text x="0" y="45" class="label-small center">Переключатель</text>
  </g>

  <!-- Дополнительное сопротивление (R1) -->
  <g transform="translate(400,130)">
    <rect width="20" height="50" class="component" />
    <line x1="0" y1="10" x2="20" y2="0" stroke="var(--stroke)" stroke-width="2"/>
    <line x1="0" y1="30" x2="20" y2="20" stroke="var(--stroke)" stroke-width="2"/>
    <line x1="0" y1="50" x2="20" y2="40" stroke="var(--stroke)" stroke-width="2"/>
    <text x="10" y="70" class="label-small center">R1</text>
  </g>

  <!-- Вентилятор отопителя (M2) -->
  <g transform="translate(600,130)">
    <rect width="60" height="50" class="component" />
    <circle cx="30" cy="25" r="18" fill="none" stroke="var(--stroke)" stroke-width="1.5"/>
    <text x="30" y="25" class="label center">M2</text>
    <text x="30" y="70" class="label-small center">Вентилятор</text>
  </g>

  <!-- Цепи -->

  <!-- Питание от БП к переключателю (зажигание включено) -->
  <line x1="180" y1="130" x2="220" y2="130" class="wire blue marker"/>
  <line x1="220" y1="130" x2="220" y2="160" class="wire blue"/>
  <line x1="220" y1="160" x2="250" y2="160" class="wire blue"/>

  <!-- Переключатель → Доп. сопротивление (1-я скорость) -->
  <line x1="280" y1="130" x2="380" y2="130" class="wire green marker"/>
  <line x1="380" y1="130" x2="400" y2="130" class="wire green"/>

  <!-- Переключатель → Напрямую на вентилятор (2-я скорость) -->
  <line x1="280" y1="110" x2="580" y2="110" class="wire red marker"/>
  <line x1="580" y1="110" x2="600" y2="110" class="wire red"/>

  <!-- Доп. сопротивление → Вентилятор (через R1) -->
  <line x1="420" y1="130" x2="580" y2="130" class="wire green marker"/>
  <line x1="580" y1="130" x2="600" y2="130" class="wire green"/>

  <!-- Масса (от вентилятора к БП) -->
  <line x1="660" y1="155" x2="660" y2="180" class="wire black"/>
  <line x1="660" y1="180" x2="100" y2="180" class="wire black"/>
  <line x1="100" y1="180" x2="100" y2="160" class="wire black"/>
  <text x="80" y="200" class="label start">Масса</text>

  <!-- Подписи цветов проводов -->
  <g transform="translate(700,100)">
    <text x="0" y="0" class="label">Цвета проводов:</text>
    <line x1="0" y1="25" x2="40" y2="25" class="wire blue"/>
    <text x="50" y="29" class="label start">+12В (зажигание)</text>

    <line x1="0" y1="55" x2="40" y2="55" class="wire red"/>
    <text x="50" y="59" class="label start">+12В (прямое, 2-я скорость)</text>

    <line x1="0" y1="85" x2="40" y2="85" class="wire green"/>
    <text x="50" y="89" class="label start">Через сопротивление (1-я)</text>

    <line x1="0" y1="115" x2="40" y2="115" class="wire black"/>
    <text x="50" y="119" class="label start">Масса</text>
  </g>

  <!-- Заголовок -->
  <text x="450" y="40" class="label center" font-size="18" font-weight="bold">Схема печки и вентилятора — ВАЗ-2108/2109</text>
  <text x="450" y="530" class="label-small center">ГОСТ 2.755-87 — обозначения: F — предохранитель, SA3 — переключатель, R1 — сопротивление, M2 — вентилятор</text>
</svg>
